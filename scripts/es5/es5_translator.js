es5.ES5Translator = (function(JsonMLWalker, _, join, escape) {

  var ES5Translator=JsonMLWalker.inherit({_grammarName: "ES5Translator",
  "assure_block":function(){var n;return (function(){this._not((function(){return this._apply("undefined")}));n=this._apply("anything");return this._or((function(){return (function(){this._pred(n.hasType("BlockStmt"));return this._applyWithArgs("walk",n)}).call(this)}),(function(){return this._applyWithArgs("walk",_.BlockStmt([n]))}))}).call(this)},
  "Program":function(){var n,cs;return (function(){n=this._apply("anything");cs=this._many((function(){return this._apply("walk")}));return cs.join(";\n")}).call(this)},
  "Function":function(){var body,n,args;return (function(){n=this._apply("anything");args=this._apply("walk");body=this._apply("walk");return this._or((function(){return (function(){this._pred(n.has("id"));return join("function ",n.id(),"(",args.join(","),")",body)}).call(this)}),(function(){return (function(){this._apply("empty");return join("function(",args.join(","),")",body)}).call(this)}))}).call(this)},
  "FunctionArgs":function(){var n,as;return (function(){n=this._apply("anything");as=this._many((function(){return this._apply("walk")}));return as}).call(this)},
  "Id":function(){var n;return (function(){n=this._apply("anything");return n.value()}).call(this)},
  "Number":function(){var n;return (function(){n=this._apply("anything");return this._or((function(){return (function(){this._pred(n.is("kind","hex"));return join("0x",n.value().toString((16)))}).call(this)}),(function(){return (function(){this._pred(n.is("value",parseFloat(n.original())));return n.original()}).call(this)}),(function(){return (function(){this._apply("empty");return n.value().toString()}).call(this)}))}).call(this)},
  "String":function(){var n;return (function(){n=this._apply("anything");return join("\"",escape(n.value()),"\"")}).call(this)},
  "BlockStmt":function(){var n,cs;return (function(){n=this._apply("anything");cs=this._many((function(){return this._apply("walk")}));return join("{",cs.join(";\n"),"}")}).call(this)},
  "VarDeclStmt":function(){var n,vs;return (function(){n=this._apply("anything");vs=this._many1((function(){return this._apply("walk")}));return join(n.kind()," ",vs.join(","))}).call(this)},
  "VarBinding":function(){var init,n,i;return (function(){n=this._apply("anything");return this._or((function(){return (function(){this._apply("undefined");return n.name()}).call(this)}),(function(){return (function(){i=this._lookahead((function(){return this._apply("anything")}));this._pred(i.hasType("Id"));this._pred(i.is("value","undefined"));this._apply("anything");return n.name()}).call(this)}),(function(){return (function(){init=this._apply("walk");return join(n.name(),"=",init)}).call(this)}))}).call(this)},
  "EmptyStmt":function(){var n;return (function(){n=this._apply("anything");return ""}).call(this)},
  "IfStmt":function(){var f,t,n,c;return (function(){n=this._apply("anything");c=this._apply("walk");t=this._apply("assure_block");return this._or((function(){return (function(){f=this._apply("assure_block");return join("if(",c,")",t,"else",f)}).call(this)}),(function(){return (function(){this._or((function(){return this._apply("undefined")}),(function(){return this._apply("empty")}));return join("if(",c,")",t)}).call(this)}))}).call(this)},
  "LabeledStmt":function(){var s,n;return (function(){n=this._apply("anything");s=this._apply("walk");return join(n.label(),": ",s)}).call(this)},
  "BreakStmt":function(){var n;return (function(){n=this._apply("anything");return join("break ",((n.label() !== undefined)?n.label():""))}).call(this)},
  "ContinueStmt":function(){var n;return (function(){n=this._apply("anything");return join("continue ",((n.label() !== undefined)?n.label():""))}).call(this)},
  "WithStmt":function(){var e,s,n;return (function(){n=this._apply("anything");e=this._apply("walk");s=this._apply("assure_block");return join("with(",e,")",s)}).call(this)},
  "SwitchStmt":function(){var e,n,cs;return (function(){n=this._apply("anything");e=this._apply("walk");cs=this._many((function(){return this._apply("walk")}));return join("switch(",e,"){",cs.join(";"),"}")}).call(this)},
  "SwitchCase":function(){var e,n,ss;return (function(){n=this._apply("anything");return this._or((function(){return (function(){this._pred(n.is("default_case"));ss=this._many((function(){return this._apply("walk")}));return join("default: ",ss.join(";"))}).call(this)}),(function(){return (function(){e=this._apply("walk");ss=this._many((function(){return this._apply("walk")}));return join("case ",e,": ",ss.join(";"))}).call(this)}))}).call(this)},
  "ReturnStmt":function(){var e,n;return (function(){n=this._apply("anything");e=this._apply("walk");return join("return ",e)}).call(this)},
  "ThrowStmt":function(){var e,n;return (function(){n=this._apply("anything");e=this._apply("walk");return join("throw ",e)}).call(this)},
  "TryStmt":function(){var f,t,n,ce,c;return (function(){n=this._apply("anything");return this._or((function(){return (function(){t=this._apply("walk");ce=this._apply("walk");c=this._apply("assure_block");return this._or((function(){return (function(){this._apply("undefined");return join("try",t,"catch(",ce,")",c)}).call(this)}),(function(){return (function(){f=this._apply("assure_block");return join("try",t,"catch(",ce,")",c,"finally",f)}).call(this)}))}).call(this)}),(function(){return (function(){t=this._apply("walk");f=this._apply("assure_block");return join("try",t,"finally",f)}).call(this)}))}).call(this)},
  "WhileStmt":function(){var s,n,ce;return (function(){n=this._apply("anything");ce=this._apply("walk");s=this._apply("assure_block");return join("while(",ce,")",s)}).call(this)},
  "DoWhileStmt":function(){var s,n,ce;return (function(){n=this._apply("anything");s=this._apply("assure_block");ce=this._apply("walk");return join("do",s,"while(",ce,")")}).call(this)},
  "ForStmt":function(){var s,n,ue,ie,ce;return (function(){n=this._apply("anything");ie=this._apply("walk");ce=this._apply("walk");ue=this._apply("walk");s=this._apply("assure_block");return join("for(",ie,";",ce,";",ue,")",s)}).call(this)},
  "ForInStmt":function(){var s,n,ce,vs;return (function(){n=this._apply("anything");vs=this._apply("walk");ce=this._apply("walk");s=this._apply("assure_block");return join("for(",vs," in ",ce,")",s)}).call(this)},
  "DebuggerStmt":function(){var n;return (function(){n=this._apply("anything");return "debugger"}).call(this)},
  "ThisExpr":function(){var n;return (function(){n=this._apply("anything");return "this"}).call(this)},
  "AssignExpr":function(){var rhs,lhs,n;return (function(){n=this._apply("anything");lhs=this._apply("walk");rhs=this._apply("walk");return join(lhs,n.operator(),rhs)}).call(this)},
  "CondExpr":function(){var f,t,n,ce;return (function(){n=this._apply("anything");ce=this._apply("walk");t=this._apply("walk");f=this._apply("walk");return join(ce,"?",t,":",f)}).call(this)},
  "UnaryExpr":function(){var e,n;return (function(){n=this._apply("anything");e=this._apply("walk");return join(n.operator()," ",e)}).call(this)},
  "UpdateExpr":function(){var e,n;return (function(){n=this._apply("anything");e=this._apply("walk");return this._or((function(){return (function(){this._pred(n.is("prefix"));return join(n.operator(),e)}).call(this)}),(function(){return (function(){this._apply("empty");return join(e,n.operator())}).call(this)}))}).call(this)},
  "BinaryExpr":function(){var rhs,lhs,n;return (function(){n=this._apply("anything");lhs=this._apply("walk");rhs=this._apply("walk");return join(lhs," ",n.operator()," ",rhs)}).call(this)},
  "SequenceExpr":function(){var es,n;return (function(){n=this._apply("anything");es=this._many((function(){return this._apply("walk")}));return es.join(",")}).call(this)},
  "NewExpr":function(){var n,cls;return (function(){n=this._apply("anything");cls=this._apply("walk");return join("new ",cls)}).call(this)},
  "CallExpr":function(){var e,n,args;return (function(){n=this._apply("anything");e=this._apply("walk");args=this._many((function(){return this._apply("walk")}));return join(e,"(",args.join(","),")")}).call(this)},
  "MemberExpr":function(){var e,n,ae;return (function(){n=this._apply("anything");return this._or((function(){return (function(){this._pred(n.is("access","name"));e=this._apply("walk");return join(e,".",n.name())}).call(this)}),(function(){return (function(){e=this._apply("walk");ae=this._apply("walk");return join(e,"[",ae,"]")}).call(this)}))}).call(this)},
  "GroupExpr":function(){var e,n;return (function(){n=this._apply("anything");e=this._apply("walk");return join("(",e,")")}).call(this)},
  "ArrayExpr":function(){var es,n;return (function(){n=this._apply("anything");es=this._many((function(){return this._apply("walk")}));return join("[",es.join(","),"]")}).call(this)},
  "ObjectExpr":function(){var n,ps;return (function(){n=this._apply("anything");ps=this._many((function(){return this._apply("walk")}));return join("{",ps.join(","),"}")}).call(this)},
  "PropertyBinding":function(){var body,e,n,args,id;return (function(){n=this._apply("anything");return this._or((function(){return (function(){this._pred(n.is("kind","init"));id=this._apply("walk");e=this._apply("walk");return join(id,": ",e)}).call(this)}),(function(){return (function(){id=this._apply("walk");args=this._apply("walk");body=this._apply("walk");return join(n.kind()," ",id,"(",args.join(","),")",body)}).call(this)}))}).call(this)},
  "RegExpr":function(){var n;return (function(){n=this._apply("anything");return join("/",n.body(),"/",n.flags())}).call(this)}});(ES5Translator["force_rules"]=true);(ES5Translator["translate"]=(function (input){return ES5Translator.match(input,"walk")}));

  return ES5Translator;

})(jsonml.JsonMLWalker, es5.nodes, utils.join, utils.escape_string);
